<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Tahu</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		
		<link href="https://fonts.googleapis.com/css?family=Quicksand:400,600,700&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

		<link rel="stylesheet" href="fonts/icomoon/style.css">
		<link rel="stylesheet" href="css/owl.carousel.min.css">
		<link rel="stylesheet" href="css/bootstrap.min.css">
		<link rel="stylesheet" href="css/style.css">
		<link rel="stylesheet" href="css/products.css">

	</head>
	<body>

		<div id="overlay">
			<span class="close-button" onclick="hideOverlay()">X</span>
			<div class="image-info">
				<h2 id="overlay-title"></h2>
				<p id="overlay-description"></p>
			</div>
		</div>

		<div id="container">

			<div class="site-mobile-menu site-navbar-target">''
				<div class="site-mobile-menu-header">
				<div class="site-mobile-menu-close mt-3">
					<span class="icon-close2 js-menu-toggle"></span>
				</div>
				</div>
				<div class="site-mobile-menu-body"></div>
			</div> 
			
			<div class="site-navbar-wrap">
				<div class="site-navbar-top">
				<div class="container py-3">
					<div class="row align-items-center">
					<div class="col-6">
						<div class="d-flex mr-auto">
						<a href="#" class="d-flex align-items-center mr-4">
							<span class="icon-envelope mr-2"></span>
							<span class="d-none d-md-inline-block">info@tahu.com</span>
						</a>
						<a href="#" class="d-flex align-items-center mr-auto">
							<span class="icon-phone mr-2"></span>
							<span class="d-none d-md-inline-block">+1 234 4567 8910</span>
						</a>
						</div>
					</div>
					<div class="col-6 text-right">
						<div class="mr-auto">
						<a href="#" class="p-2 pl-0"><span class="icon-twitter"></span></a>
						<a href="#" class="p-2 pl-0"><span class="icon-facebook"></span></a>
						<a href="#" class="p-2 pl-0"><span class="icon-linkedin"></span></a>
						<a href="#" class="p-2 pl-0"><span class="icon-instagram"></span></a>
						</div>
						
					</div>
					</div>
				</div>
				</div>
		
				<div class="site-navbar site-navbar-target js-sticky-header">
				<div class="container">
					<div class="row align-items-center">
					<div class="col-2">
						<h2 class="my-0 site-logo"><a href="#home-section" onclick="showContent('home')">TAHU</a></h2>
					</div>
					<div class="col-10">
						<nav class="site-navigation text-right" role="navigation">
						<div class="container">
							<div class="d-inline-block d-lg-none ml-md-0 mr-auto py-3"><a href="#" class="site-menu-toggle js-menu-toggle text-white"><span class="icon-menu h3"></span></a></div>
		
							<ul class="site-menu main-menu js-clone-nav d-none d-lg-block">
							<li class="active"><a href="#home-section" class="nav-link" onclick="showContent('home')" id="navbar-home">ホーム</a></li>
							<li class=""><a href="#about-section" class="nav-link" onclick="showContent('about')" id="navbar-about">約</a></li>
							<li class=""><a href="#about-section" class="nav-link" onclick="showContent('products')" id="navbar-products">製品</a></li>
							<li class=""><a href="#about-section" class="nav-link" onclick="showContent('maps')" id="navbar-products">地図</a></li>
							<li class=""><a href="#about-section" class="nav-link" onclick="showContent('contacts')" id="navbar-contacts">コンタクト</a></li>
							<li class="has-children">
								<a href="#" class="nav-link" id="navbar-languages">言語</a>
								<ul class="dropdown arrow-top">
								<li><a class="nav-link" href="index.html" id="op-en">英語</a></li>
								<li><a class="nav-link" href="index_id.html" id="op-id">インドネシア語</a></li>
								<li><a class="nav-link" href="index_jp.html" id="op-jp">日本語</a></li>
								</ul>
							</li>
							<!-- <li><a href="#contact-section" class="nav-link" onclick="showContent('contact')">🦖</a></li> -->
							<li><a href="#" class="nav-link sound" id="speaker">🔇</a></li>
							</ul>
						</div>
						</nav>
					</div>
					</div>
				</div>
				</div>
			</div>


				<div id="content">

					<div id="home">
						<h1 style="font-weight: bold;">TAHU NUSANTARA</h1>
						<p>タフへようこそ。おいしい一口ごとに革新と風味が融合します。 豆腐の芸術を再定義し、豊かな風味と持続可能性の精神を讃える瞬間を創り出しながら、卓越した料理の旅に出かけましょう。</p>				
					</div>
				
					
					<div id="about">
						<h1 style="font-weight: bold;">私たちについて</h1>
							<img src="Tahu.png" alt="" width="200vw">
							<p>Tahu（タフ）は、インドネシアの2つの主食、豆腐とテンペを中心とした洗練された食の体験を提供するプレミアムブランドです。私たちのミッションは、これらの伝統的な食材に対する認識を向上させ、優雅でモダンな提供スタイルで提供することで、味とプレゼンテーションの両方で芸術を高く評価する個々の方々にサービスを提供することです。</p>

						<h1 style="font-weight: bold;">私たちのチーム</h1>
							<img src="Team.png" alt="" width="200vw">
							<p>Tahuの多様なチームは、本物のインドネシアの味覚を共有する情熱的な個々から成り立っています。私たちの目標は、最高品質の豆腐をお客様のテーブルに提供することにコミットしている、この志を共有する仲間たちの集まりです。</p>

						<h1 style="font-weight: bold;">当社の場所</h1>
							<img src="Indonesia.png" alt="" width="1000vw">
							<p>私たちの食の旅の中心地に位置するTahuは、インドネシアのダイナミックな風景から運営されています。製造の伝統的な遺産から私たちのチームの活気に満ちた様子まで、私たちは起源の本質を探求し、本物のインドネシアの職人の味を楽しむようお招きしています。</p>
						</div>

					<div id="products"> 
							<a>
								<h1 style="font-weight: bold; text-align: left;">豆腐 <small>（タフ）</small> </h1> 
								<p style="text-align: justify; font-size: medium;">当社は、健康を重視した素晴らしいインドネシア風の豆腐を誇りに思っています。味わい深くて栄養豊かな料理体験を提供します。これが私たちの製品です。</p>
							</a>
							<figure class="portrait">
								<img src="images/1.jpg" alt="">
							</figure>
							<figure class="landscape">
								<video controls>
									<source src="images/video.mp4" type="video/mp4">
									Your browser does not support the video tag.
								</video>
							</figure>
							<figure class="portrait">
								<img src="images/3.jpg" alt="">
							</figure>
							<figure class="landscape">
								<img src="images/5.jpg" alt="">
							</figure>
							<figure class="portrait">
								<img src="images/4.jpg" alt="">
							</figure>
							<figure class="portrait">
								<img src="images/6.jpg" alt="">
							</figure>
							<figure class="portrait">
								<img src="images/7.jpg" alt="">
							</figure>
							<figure class="portrait">
								<img src="images/8.jpg" alt="">
							</figure>
							<figure class="landscape">
								<img src="images/9.jpg" alt="">
							</figure>
							<a class="landscape">
								<h1 style="font-weight: bold; text-align: left;">テンペ</h1>
								<p style="text-align: justify; font-size: medium;">私たちの料理のスキルの中心に位置するのが、丁寧に作り上げられ、情熱を込めて創られた本格的なインドネシアのテンペです。私たちのテンペは、伝統的な味わいと健康を大切にし、注意深く調理されたもので、各バイトが健康的なライフスタイルを反映しています。私たちの会社では、舌を喜ばせるだけでなく、健康的なライフスタイルを重視した料理体験を提供することに誇りを持っています。私たちのテンペは、インドネシアの料理の遺産の本質を栄養豊かに表現したものです。</p>
							</a>
							<figure class="portrait">
								<img src="images/10.jpg" alt="">
							</figure>
							<figure class="portrait">
								<img src="images/11.jpg" alt="">
							</figure>
							<figure class="landscape">
								<img src="images/12.jpg" alt="">
							</figure>
							<figure class="portrait">
								<img src="images/13.jpg" alt="">
							</figure>
					</div>

					<div id="contacts" >
						<h1 style="font-weight: bold;">お問い合わせ</h1>
						<table id="contacts-form">
							<tr>
								<td>
									<input type="text" placeholder="お名前">
								</td>
								</tr>
								<tr>
								<td>
									<input type="text" placeholder="メールアドレス">
								</td>
								</tr>
								<tr>
								<td>
									<textarea name="" id="" cols="30" rows="5" placeholder="メッセージ"></textarea>
								</td>
								</tr>
							</table>
							<button type="submit">送信</button>
					</div>

					<div id="maps">
						<h1 style="font-weight: bold;">地図</h1>
						<div id="map" style="width:70vw; height:50vh; margin: 4vh auto"></div>
					</div>
					
				
			</div>

		
		</div>

		<audio id="bgm" loop>
			<source src="bengawansolo.mp3" type="audio/mp3">
			Your browser does not support the audio element.
		</audio>

		<script src="overlay.js"></script>

		<link rel="stylesheet" href="https://openlayers.org/en/v4.6.5/css/ol.css" type="text/css">
		<script src="https://openlayers.org/en/v4.6.5/build/ol.js"></script>
		
		<script>
			// Create a new OpenLayers map
			var map = new ol.Map({
				target: 'map', // The HTML element with the 'map' id
				layers: [
					// Add OpenStreetMap as the base layer
					new ol.layer.Tile({
					source: new ol.source.OSM()
					})
				],
				view: new ol.View({
					center: ol.proj.fromLonLat([112.7586, -7.2917]), // Center the map at the specified coordinates (longitude, latitude)
					zoom: 10 // Set the initial zoom level
				})
			});
		</script>
			

		<script>
				let translateY = 0;
				let scrollTargetY = 0;
				let scrollingElement = document.querySelector('#products');

				function smoothScroll() {
					translateY += (scrollTargetY - translateY) * 0.1;
					scrollingElement.style.transform = `translate(-50%, ${translateY}vh)`;

					requestAnimationFrame(smoothScroll);
				}


				window.addEventListener('wheel', function(event) {
					document.getElementById('content').querySelectorAll('div > div').forEach(element => {
						console.log(element);
						var computedStyle = window.getComputedStyle(element);
						if (computedStyle.opacity === "1")
						{
							if (element.id == "about" || element.id == "products") {
								scrollingElement = element;
								const scrollIncrement = 30; 
								scrollTargetY += event.deltaY > 0 ? scrollIncrement : -scrollIncrement;
								scrollTargetY = Math.max(-120, Math.min(0, scrollTargetY));	
							}
							
						}
					});
				});

				smoothScroll();
		</script>

		<script type="importmap">
			{
				"imports": {
					"three": "https://unpkg.com/three@0.158.0/build/three.module.js",
					"three/addons/": "https://unpkg.com/three@0.154.0/examples/jsm/"
				}
			}
		</script>

		<script src="js/jquery-3.3.1.min.js"></script>
		<script src="js/popper.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/jquery.sticky.js"></script>
		<script src="js/main.js"></script>

		<script src="audio.js"></script>
		<script type="module">
			import * as TWEEN from 'https://cdn.skypack.dev/tween';

			import * as THREE from 'three';
			import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';

			let camera, scene, renderer, bulbLight, bulbMat, hemiLight;
			let ballMat, cubeMat, floorMat;
			let selectedSection;

			let previousShadowMap = false;

			const loader = new GLTFLoader();
			let model;

			loader.load('scene.gltf', (gltf) => {
				gltf.scene.traverse( function( node ) {

					if ( node.isMesh ) { 
						node.castShadow = true; 
					}

				} );
				model = gltf.scene;

				scene.add(model);
			});


			const bulbLuminousPowers = {
				'110000 lm (1000W)': 110000,
				'3500 lm (300W)': 3500,
				'1700 lm (100W)': 1700,
				'800 lm (60W)': 800,
				'400 lm (40W)': 400,
				'180 lm (25W)': 180,
				'20 lm (4W)': 20,
				'Off': 0
			};

			const hemiLuminousIrradiances = {
				'0.0001 lx (Moonless Night)': 0.0001,
				'0.002 lx (Night Airglow)': 0.002,
				'0.5 lx (Full Moon)': 0.5,
				'3.4 lx (City Twilight)': 3.4,
				'50 lx (Living Room)': 50,
				'100 lx (Very Overcast)': 100,
				'350 lx (Office Room)': 350,
				'400 lx (Sunrise/Sunset)': 400,
				'1000 lx (Overcast)': 1000,
				'18000 lx (Daylight)': 18000,
				'50000 lx (Direct Sun)': 50000
			};

			const params = {
				shadows: true,
				exposure: 0.68,
				bulbPower: Object.keys( bulbLuminousPowers )[ 4 ],
				hemiIrradiance: Object.keys( hemiLuminousIrradiances )[ 0 ]
			};

			init();
			animate();

			function init() {

				const container = document.getElementById( 'container' );

				camera = new THREE.PerspectiveCamera( 50, window.innerWidth / window.innerHeight, 0.1, 100 );
				camera.position.z = 0.45;
				camera.position.y = 0.4;

				scene = new THREE.Scene();

				const bulbGeometry = new THREE.SphereGeometry( 0.02, 16, 8 );
				bulbLight = new THREE.PointLight( 0xffee88, 1, 100, 2 );

				bulbMat = new THREE.MeshStandardMaterial( {
					emissive: 0xffffee,
					emissiveIntensity: 1,
					color: 0x000000
				} );

				bulbLight.add( new THREE.Mesh( bulbGeometry, bulbMat ) );
				bulbLight.position.set( 0, 0.7, 0 );
				bulbLight.castShadow = true;
				scene.add( bulbLight );

				hemiLight = new THREE.HemisphereLight( 0xddeeff, 0x0f0e0d, 0.02 );
				scene.add( hemiLight );

				floorMat = new THREE.MeshStandardMaterial( {
					roughness: 0.8,
					color: 0xffffff,
					metalness: 0.2,
					bumpScale: 1
				} );

				const textureLoader = new THREE.TextureLoader();
				textureLoader.load( 'textures/hardwood2_diffuse.jpg', function ( map ) {

					map.wrapS = THREE.RepeatWrapping;
					map.wrapT = THREE.RepeatWrapping;
					map.anisotropy = 4;
					map.repeat.set( 10, 24 );
					map.colorSpace = THREE.SRGBColorSpace;
					floorMat.map = map;
					floorMat.needsUpdate = true;

				} );
				textureLoader.load( 'textures/hardwood2_bump.jpg', function ( map ) {

					map.wrapS = THREE.RepeatWrapping;
					map.wrapT = THREE.RepeatWrapping;
					map.anisotropy = 4;
					map.repeat.set( 10, 24 );
					floorMat.bumpMap = map;
					floorMat.needsUpdate = true;

				} );
				textureLoader.load( 'textures/hardwood2_roughness.jpg', function ( map ) {

					map.wrapS = THREE.RepeatWrapping;
					map.wrapT = THREE.RepeatWrapping;
					map.anisotropy = 4;
					map.repeat.set( 10, 24 );
					floorMat.roughnessMap = map;
					floorMat.needsUpdate = true;

				} );


				const floorGeometry = new THREE.PlaneGeometry( 20, 20 );
				const floorMesh = new THREE.Mesh( floorGeometry, floorMat );
				floorMesh.receiveShadow = true;
				floorMesh.rotation.x = - Math.PI / 2.0;
				scene.add( floorMesh );

				renderer = new THREE.WebGLRenderer();
				renderer.shadowMap.enabled = true;
				renderer.toneMapping = THREE.ReinhardToneMapping;
				renderer.setPixelRatio( window.devicePixelRatio );
				renderer.setSize( window.innerWidth, window.innerHeight );
				container.appendChild( renderer.domElement );

				window.addEventListener( 'resize', onWindowResize );

			}

			function onWindowResize() {

				camera.aspect = window.innerWidth / window.innerHeight;
				camera.updateProjectionMatrix();

				renderer.setSize( window.innerWidth, window.innerHeight );

			}

			//

			function animate() {

				requestAnimationFrame( animate );

				if (model) {
					model.rotation.y += 0.003;

					if (selectedSection == "contacts")
					{
						camera.lookAt(1,-2.8 ,1);

					}
					else {
						camera.lookAt(0,0,0);
					}


				}

				TWEEN.update();

				render();

			}

			function render() {

				renderer.toneMappingExposure = Math.pow( params.exposure, 5.0 );
				renderer.shadowMap.enabled = params.shadows;
				bulbLight.castShadow = params.shadows;

				if ( params.shadows !== previousShadowMap ) {
					floorMat.needsUpdate = true;
					previousShadowMap = params.shadows;
				}

				bulbLight.power = bulbLuminousPowers[ params.bulbPower ];
				bulbMat.emissiveIntensity = bulbLight.intensity / Math.pow( 0.02, 2.0 ); 
				hemiLight.intensity = hemiLuminousIrradiances[ params.hemiIrradiance ];

				renderer.render( scene, camera );

			}

			window.showContent = function(section) {
				selectedSection = section;
				const sections = ['home', 'about', 'products', 'contacts', 'maps'];
				sections.forEach((s) => {
					const element = document.getElementById(s);
					if (s === section) {
						setTimeout(() => {
							element.style.display = "";
						}, 300);					
						element.style.opacity = 1;
					} else {
						element.style.opacity = 0;
						setTimeout(() => {
							element.style.display = "none";
						}, 1000);		
					}
				});    

				const targetPosition = new THREE.Vector3();

				const navItems = document.querySelectorAll('.nav-link');
				navItems.forEach(item => {
					if (item.innerHTML.toLowerCase() == section) 
					{
						item.parentNode.classList.add('active')
					}
					else {
						item.parentNode.classList.remove('active')
					}
				});

				switch (section) {
					case 'home':
						targetPosition.set(0, 0.38, 0.45);
						break;
					case 'about':
						targetPosition.set(0, 0.8, 0);
						break;
					case 'products':            
						targetPosition.set(0, 0.5, 1);
						break;
					case 'contacts':            
						targetPosition.set(-0.4, 1.5, 1);
						break;
					case 'maps':            
						targetPosition.set(2, 0.8, 0);
						break;
				};

				new TWEEN.Tween(camera.position)
					.to({ x: targetPosition.x, y: targetPosition.y, z: targetPosition.z }, 3000) 
					.easing(TWEEN.Easing.Quadratic.InOut) 
					.start();
				}

		</script>
	</body>
</html>